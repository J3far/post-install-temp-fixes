-------------------------------------------------------------------------
-- SQ08654
-- Concrete Test Report Formatting Issue 
-- 
-- Fix concrete test report issues
-- 
-- Database: QESTLab
-- Created By: Salih AL Rashid
-- Created Date: 11 July 2016
-- Last Modified By: Salih AL Rashid
-- Last Modified: 20 July 2016
-- 
-- Version: 1.0
-- Change LOG
--	1.0 Original Version
--	1.1 - Fix alignment issues with some of the sample fields
--		- fix slump reporting issue
--		- Add PrintIfNonNull=T to the location fields
--
-- Repeatability: Safe
-- Re-run Requirement: After DB Structure Update
--
-- important: This script needs to be rerun after 'SQ07547_changeFontSizeOnGCEReport_1_1.sql'
--
-------------------------------------------------------------------------

begin tran

	update options
	set OptionData = 'Prompt=Date Sampled;FieldName=DateCast;ValueFormat=MM/DD/YY;ValueStyle=font-size: 8\;vertical-align: top\;font-family: Arial\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;|Prompt=Date Received;FieldName=DateReceived;ValueFormat=MM/DD/YY;IsLong=T;|Prompt=Date Grouted;FieldName=DateGrouted;ValueFormat=MM/DD/YY;PrintIfNonNull=T;|Prompt=Grout VSI;FieldName=VSI;PrintIfNonNull=T;|Prompt=General Location;FieldName=Location;IsLong=T;PrintIfNonNull=T;|Prompt=Sample Location;FieldName=LocationDescription;IsLong=T;PrintIfNonNull=T;|Prompt=Curing Method;FieldName=CuringMethod;IsLong=T;|Prompt=Field Sample No.;FieldName=FieldSampleID;IsLong=T;PrintIfNonNull=T;|Prompt=Field Cure Temp (°F) High;FieldName=MaximumTemperature;ValueFormat=0;|Prompt= ;FieldName=PaddingField;FieldIsReal=F;DisplayColon=F;DefaultValue= ;|Prompt=Low;FieldName=MinimumTemperature;PromptStyle=text-align: Right\;;|Prompt=Contractor;FieldName=ContractorName;PromptStyle=text-align: Left\;;IsLong=T;|Prompt=Nozzleman;FieldName=NozzlemanName;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt=Gun Operator;FieldName=GunOperatorName;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt=Ticket no.;FieldName=Docket;|Prompt=Truck No.;FieldName=Truck;|Prompt=Sampled By;FieldName=PersonName;IsLong=T;|Prompt=Submitted By;FieldName=SubmittedByName;IsLong=T;|Prompt=Weather;FieldName=Weather;IsLong=T;|Prompt=Est. Wind (mph);FieldName=Wind;PrintIfNonNull=T;|Prompt=Est. Rh (%);FieldName=RelativeHumidity;ValueFormat=0;PrintIfNonNull=T;|Prompt=Panel Position;FieldName=PanelPosition;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt=Incl Reinforcing?;FieldName=IncludeReinforcing;ValueFormat=LIST:Yes\;No\;;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt= ;FieldName= ;DefaultValue= ;IsLong=T;DisplayColon=F;FieldIsReal=F;|Prompt= ;FieldName= ;DefaultValue= ;IsLong=T;DisplayColon=F;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''False'',''True''));FieldIsReal=F;|Prompt= ;FieldName= ;DefaultValue= ;IsLong=T;DisplayColon=F;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''False'',''True''));FieldIsReal=F;|Prompt=Specification;FieldName=QESTSpecification;ValueStyle=font-size: 8\;vertical-align: top\;font-family: Arial\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;Section=AdditionalDetails;|Prompt=Supplier;FieldName=SupplierName;ValueStyle=font-size: 8\;vertical-align: top\;font-family: Arial\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;Section=MixDataProper;IsLong=T;|Prompt=Plant;FieldName=SourceName;Section=MixDataProper;IsLong=T;|Prompt=Mix;FieldName=ProductName;Section=MixDataProper;IsLong=T;|Prompt=Specified Design Strength (psi);FieldName=Custom.IIF(Custom.replacenull([DesignStrength],'''')\='''','''',([DesignStrength]) & '' '' & (Custom.IIF(Custom.replacenull([AcceptanceAge],'''')\='''','''',''at age '' & ([AcceptanceAge]) & '' days'')));ValueFormat=10r;Section=MixDataProper;FieldType=2;IsLong=T;|Prompt=Mortar Type;FieldName=MortarType;Section=MixDataProper;IsLong=T;PrintIfNonNull=T;|Prompt=Type of Shotcrete;FieldName=ShotcreteType;Section=MixDataProper;IsLong=T;PrintIfNonNull=T;|Prompt=Type of Fibers;FieldName=FibersType;Section=MixDataProper;IsLong=T;PrintIfNonNull=T;|Prompt= ;FieldName=PaddingField;Section=MixDataSource;FieldIsReal=F;DefaultValue= ;DisplayColon=F;|Prompt= ;FieldName=NoField;ValueStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: bold\;color: rgb(0,0,0)\;;PromptStyle=font-size: 7\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;Section=SampleMeasurements;DisplayColon=F;FieldIsReal=F;DefaultValue= ;|Prompt=Measured;FieldName=''Specified'';ValueStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: bold\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: bold\;;Section=SampleMeasurements;FieldType=2;DisplayColon=F;|Prompt=Slump (in);FieldName=SlumpMethod;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;|FieldName=Custom.ConcreteSlumpSpec(LabObject);ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.FormatValue((Custom.Replacenull(labobject.[MeasuredSlump],''N/A'')),''0.25r'');FieldType=2;DisplayColon=F;PromptLimitFieldName=MeasuredSlump,BuiltInSpecificationSlump;|Prompt=Slump w/ plasticizer (in);FieldName=NoField;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;FieldIsReal=F;PrintFlagValue=Custom.IIF(Custom.Replacenull(labobject.[SecondSlump],''-1'')\=''-1'',''False'',''True'');|FieldName=Custom.DisplaySpecification(LabObject,''SecondSlump'',''True'');ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.Replacenull(labobject.[SecondSlump],'''');FieldType=2;DisplayColon=F;PromptFormat=0.25r;DefaultValue= ;PromptLimitFieldName=SecondSlump;PrintFlagValue=Custom.IIF(Custom.Replacenull([SecondSlump],'''')\='''',''False'',''True'');|Prompt=Air Temp (°F);FieldName=NoField;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;FieldIsReal=F;DefaultValue= ;|FieldName=Custom.DisplaySpecification(LabObject,''AirTemperature'',''True'');ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.Replacenull(labobject.[AirTemperature],''N/A'');FieldType=2;DisplayColon=F;PromptFormat=0;PromptLimitFieldName=AirTemperature;|Prompt=Concrete Temp (°F);FieldName=ConcreteTemperatureMethod;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;|FieldName=Custom.DisplaySpecification(LabObject,''ConcreteTemperature'',''True'');ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.Replacenull(labobject.[ConcreteTemperature],''N/A'');FieldType=2;DisplayColon=F;PromptFormat=0;DefaultValue= ;PromptLimitFieldName=ConcreteTemperature;|Prompt=Air Content (%);FieldName=MeasuredAirMethod;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;DisplayColon=F;|FieldName=Custom.ConcreteAirContentSpec(LabObject);ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.FormatValue((Custom.Replacenull(labobject.[MeasuredAir],''N/A'')),(Custom.ReplaceNull(labobject.[AirContentFormat],''0.00'')));FieldType=2;DisplayColon=F;PromptLimitFieldName=MeasuredAir,BuiltInSpecificationAirContent;|Prompt=Unit Weight (pcf);FieldName=UnitWeightMethod;ValueStyle=font-size: 6\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: left\;font-weight: bold\;;Section=SampleMeasurements;|FieldName=Custom.ConcreteUnitWeightSpec(LabObject);ValueStyle=font-size: 7\;vertical-align: top\;text-align: center\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,255)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;text-align: center\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.Replacenull(labobject.[Density],''N/A'');FieldType=2;DisplayColon=F;PromptFormat=0.0;PromptLimitFieldName=Density,BuiltInSpecificationDensity;|Prompt=Volume of Density Measure (ft³);FieldName=NoField;ValueStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 7\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;Section=SampleMeasurements;FieldIsReal=F;DefaultValue= ;|FieldName=NoField;ValueStyle=font-size: 8\;vertical-align: top\;font-family: Arial\;font-weight: normal\;color: rgb(0,0,0)\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: normal\;;Section=SampleMeasurements;PromptFieldName=Custom.Replacenull(labobject.[DensityTestVolume], ''N/A'');DisplayColon=F;PromptFormat=0.000;FieldIsReal=F;FieldType=2;DefaultValue= ;|Prompt=Batch Size (yd³);FieldName=LoadSize;ValueFormat=0.0;ValueStyle=font-size: 8\;vertical-align: top\;font-family: Arial\;;PromptStyle=font-size: 8\;font-family: Arial\;vertical-align: top\;font-weight: bold\;;Section=SampleRecordings;|Prompt=Time Batched;FieldName=TimeBatched;ValueFormat=Hh:Nn;Section=SampleRecordings;|Prompt=Yd³ Placed;FieldName=CubicYardsPlaced;ValueFormat=0.0;Section=SampleRecordings;|Prompt=Time Sampled;FieldName=TimeSampled;ValueFormat=Hh:Nn;Section=SampleRecordings;|Prompt=Water Added (gal) Before;FieldName=WaterAddedBeforeTestAmount;ValueFormat=0;Section=SampleRecordings;|Prompt=Time Placed;FieldName=TimeUnloaded;ValueFormat=Hh:Nn;Section=SampleRecordings;|Prompt=After;FieldName=WaterAddedAfterTestAmount;ValueFormat=0;Section=SampleRecordings;PromptStyle=text-align: Right\;;|Prompt=Time in Truck (mins);FieldName=TimeInTruck;ValueFormat=0;Section=SampleRecordings;PromptStyle=text-align: Left\;;|Prompt=Panel Length (in);FieldName=PanelLength;ValueFormat=0;Section=SampleRecordings;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt=Panel Width (in);FieldName=PanelWidth;ValueFormat=0;Section=SampleRecordings;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));|Prompt=Panel Height (in);FieldName=PanelHeight;ValueFormat=0.0;Section=SampleRecordings;IsLong=T;PrintFlagValue=Custom.IIF(Custom.ReplaceNull(labobject.[SampleType],''0'')\=''4'',''True'',''False''));'
	where OptionKey = '\QLO\Document.18947\Sample Fields (Mix Data Excluded)'

	update qestObjects
	set Value = 'FieldName=LocationDescription;Prompt=Sample Location;ValueFormat=;IsLong=T;PrintIfNonNull=T;|'
	where qestID = 18947
	and Property = 'MDESampleDetailsLong7'

	update qestObjects
	set Value = 'FieldName=LocationDescription;Prompt=Sample Location;ValueFormat=;IsLong=T;PrintIfNonNull=T;|'
	where qestID = 18947
	and Property = 'SampleDetailsLong7'

	update qestObjects
	set Value = 'Section=SampleMeasurements;FieldName=Custom.ConcreteUnitWeightSpecRich(LabObject);PromptFieldName=Custom.FormatValue((Custom.Replacenull(labobject.[Density],''N/A'')),''0.0'');FieldType=4;DisplayColon=F;PromptLimitFieldName=Density,BuiltInSpecificationDensity;RichCommonMarkup=Size:7,Blue:Value,UseSpecMarkup:Value;|'
	where qestID = 18947 and Property = 'SampleDetailsLong110'
	
	update qestObjects
    set Value = 'Section=SampleMeasurements;FieldName=Custom.ConcreteSlumpSpecRich(LabObject);PromptFieldName=Custom.FormatValue((Custom.Replacenull(labobject.[MeasuredSlump],''N/A'')),''0.25r'');FieldType=4;DisplayColon=F;PromptLimitFieldName=MeasuredSlump,BuiltInSpecificationSlump;RichCommonMarkup=Size:7,Blue:Value,UseSpecMarkup:Value;|'
    where qestID = 18947
    and Property = 'SampleDetailsLong90'
    and value = 'Section=SampleMeasurements;FieldName=Custom.ConcreteSlumpSpecRich(LabObject);PromptFieldName=Custom.Replacenull(labobject.[MeasuredSlump],''N/A'');FieldType=4;DisplayColon=F;PromptLimitFieldName=MeasuredSlump,BuiltInSpecificationSlump;RichCommonMarkup=Size:7,Blue:Value,UseSpecMarkup:Value;|'

commit